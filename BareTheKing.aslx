<!--Saved by Quest 5.5.5328.26617-->
<asl version="550">
  <include ref="English.aslx" />
  <include ref="Core.aslx" />
  <template name="LockedExit">That space is threatened. You cannot move there.</template>
  <game name="Bare the King">
    <gameid>508d9430-e42b-4fb5-989f-f43e11445fca</gameid>
    <version>1.0</version>
    <firstpublished>2014</firstpublished>
    <author>Team DJKALA</author>
    <gridmap />
    <autodescription type="boolean">false</autodescription>
    <pov type="object">player</pov>
    <start type="script"><![CDATA[
      msg ("You open your eyes slowly. <br/>*ping*<br/>A faint light pulses in time with a soft pinging somewhere off in the darkness that surrounds you, faintly illuminating a bare, empty floor in an alternating black and white tile pattern. ")
      LockSquaresOnStart
    ]]></start>
    <object name="brick3">
      <inherit name="editor_object" />
      <look>It is an ivory-coloured brick.</look>
      <alias>Brick</alias>
      <dropmsg>You dropped the ivory brick.</dropmsg>
      <throw>You throw the brick up into the air. You'd best get out of the way before it comes down.</throw>
      <take type="script">
        if (GetBoolean(Rook, "talked_before")) {
          msg ("You pick up the brick. It must belong to the Rook.")
        }
        else {
          msg ("You pick up the brick. Maybe it belong's to someone.")
        }
        player.numBricks = player.numBricks+1
      </take>
      <ontake type="script">
        if (GetBoolean(Rook, "talked_before")) {
          msg ("You pick up the brick. It must belong to the Rook.")
        }
        else {
          msg ("You pick up the brick. Maybe it belong's to someone.")
        }
        numBricks = numBricks+1
      </ontake>
      <ondrop type="script">
        player.numBricks = player.numBricks-1
      </ondrop>
    </object>
    <object name="Kerchief">
      <inherit name="editor_object" />
      <look>It is a white kerchief.</look>
      <alias>token</alias>
      <feature_usegive />
      <givesingle type="boolean">false</givesingle>
      <wear>It's a bit small, but you try it on anyway. Probably not your best decision.</wear>
      <giveto type="scriptdictionary" />
    </object>
    <object name="Horse">
      <inherit name="editor_object" />
      <attr name="feature_usegive" type="boolean">false</attr>
      <givesingle type="boolean">false</givesingle>
      <pet>You calmly pet the horse, as if trying to reassure it. </pet>
      <ride>You don't know how to ride a horse.</ride>
      <givetoanything type="script">
        msg ("They don't seem to want the horse.")
      </givetoanything>
      <giveto type="scriptdictionary">
        <item key="Knight">
          msg ("You give the horse to the knight")
        </item>
      </giveto>
    </object>
    <object name="GameStatus">
      <inherit name="editor_object" />
      <visible type="boolean">false</visible>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <MemoryCounter type="int">0</MemoryCounter>
      <object name="helped_rook">
        <inherit name="editor_object" />
        <visible type="boolean">false</visible>
        <scenery />
      </object>
      <object name="helped_bishop">
        <inherit name="editor_object" />
        <visible type="boolean">false</visible>
        <scenery />
      </object>
      <object name="helped_knight">
        <inherit name="editor_object" />
        <visible type="boolean">false</visible>
        <scenery />
      </object>
      <object name="numBricks">
        <inherit name="editor_object" />
        <numBricks type="int">0</numBricks>
        <visible type="boolean">false</visible>
        <drop />
        <scenery />
      </object>
    </object>
  </game>
  <object name="Row 8">
    <inherit name="editor_room" />
    <object name="A8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="south" to="A7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="B7">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="A8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A7">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C7">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="C8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="B8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B7">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D7_KnightSquare">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="C8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C7">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="D7_KnightSquare">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="E7">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="E8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="D8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D7_KnightSquare">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="E7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="F7">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="F8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="E8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="E7">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G7">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="G8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="south" to="G7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F7">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="west" to="F8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H8">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H8">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByQueen type="boolean">false</threatenedByQueen>
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G8">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="G7">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H7">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
  </object>
  <object name="Row 7">
    <inherit name="editor_room" />
    <object name="A7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="east" to="B7">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="A8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="A6">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="B6_EnemyRook">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="east" to="C7">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="west" to="A7">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A8">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A6">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B6_EnemyRook">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C6">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="C7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <exit alias="east" to="D7_KnightSquare">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="west" to="B7">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B8">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B6_EnemyRook">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C6">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D6">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D7_KnightSquare">
      <inherit name="editor_room" />
      <inherit name="square" />
      <description>An armoured man staring forlornly at the darkness that surrounds the chessboard, making half hearted whistles and clicking noises. </description>
      <descprefix type="string"></descprefix>
      <objectslistprefix type="string"></objectslistprefix>
      <alias>D7</alias>
      <firstenter type="script">
        msg ("You are immediately assailed by a hopeless feeling of loneliness, and solitude, as images of empty chairs around a dinner table, and backs turning in a crowded room.  You push past the desolation in your mind and approach the figure. ")
      </firstenter>
      <object name="Knight">
        <inherit name="editor_object" />
        <alt type="stringlist">
          <value>man</value>
          <value>armoured man</value>
          <value>armored man</value>
        </alt>
        <speak type="script">
          if (not GetBoolean(Knight,"talked_to")) {
            msg ("“Who are you calling for?”")
            msg ("“The black Queen chased off my loyal steed, and now she’s lost in the darkness.  If anything happens to her, I’ll never be able to forgive myself.”")
            msg ("“Why don’t you go after her?”")
            msg ("“The darkness holds only death for us.  She can outrun the evil therein, but not forever.  The fog blocks her ears, and dulls her senses.  If only I had something to cut the stench of evil!”")
            msg ("He rubs his eyes and turns back to the darkness, anxiously searching for any sign of his beloved mount.  ")
            Knight.talked_to = true
          }
          else if (Horse.parent = player) {
            msg ("The Knight leaps to his feet when he sees you approaching with the horse.  The horse tugs the bridle out of your hand and trots over to her master, nuzzling at his pockets for treats.  The Knight puts a foot in the stirrup and swings himself onto her back, heaving a sigh of contentment as he settles into his accustomed place.")
            msg ("“Thank you for returning her to me, we are not complete without each other.  My fellow pieces have lost heart in the battle, but we never did: we only lost our ability to fight.  Take this token, that it may strengthen your heart as you have mine.”")
            msg ("He hands you down a white kerchief, before turning his steed in the direction of the enemy lines.  The horse rears, then charges off as the Knight draws a lance from somewhere.  You realize that they are approaching the enemy Rook, and try to call out a warning, but you are too late!")
            msg ("The Knight plants his lance into the side of the Rook, which shudders.  To your amazement, it begins shaking apart, and as it falls into ruin you notice something glinting where it’s base was resting. The Knight, his labour completed, salutes you before turning back towards the enemy lines.")
            AddToInventory (helped_knight)
            RemoveObject (Horse)
            AddToInventory (Kerchief)
            MakeObjectVisible (memory3)
            MoveObject (Knight, B6_EnemyRook)
            RemoveObject (Black Rook)
            RemoveFlagFromSquares (threatenedByRook)
          }
          else {
            msg ("The knight continues to stare forlornly into the darkness, not even acknowledging you")
          }
        </speak>
      </object>
      <exit alias="south" to="E6_StartingSquare">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="west" to="C7">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C8">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C6">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E7">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="memory3">
        <inherit name="editor_object" />
        <take />
        <drop type="boolean">false</drop>
        <alias>Knight's Memory</alias>
        <takemsg>It takes some searching, but you finally spot the small object that appeared when the Rook fell.  It is a collar with a small tag on it.</takemsg>
        <look>It is the collar with a small tag small that appeared when the Rook fell.  </look>
        <visible type="boolean">false</visible>
        <ontake type="script"><![CDATA[
          IncreaseObjectCounter (GameStatus, "MemoryCounter")
          msg ("The smell of wet dog permeates the air, and you feel a warm, rough tongue on the back of your hand, welcoming you: the image of a toothy smile and soft fur warms your heart.<br/><br/>You no longer feel alone.")
        ]]></ontake>
      </object>
    </object>
    <object name="E7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <exit alias="east" to="F7">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="D8">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="E8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="F8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D6">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="F6">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="west" to="D7_KnightSquare">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="E6_StartingSquare">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="E7">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G7">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E8">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F6">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G6">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D6">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="G7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <exit alias="west" to="F7">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H7">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F8">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F6">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="G6">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H8">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="H6_TowerSquare">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H7">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByQueen type="boolean">false</threatenedByQueen>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G7">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H6_TowerSquare">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="G6">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H8">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
  </object>
  <object name="Row 6">
    <inherit name="editor_room" />
    <object name="A6">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByRook />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="north" to="A7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B7">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B6_EnemyRook">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="A5_BishopSquare">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="B5">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B6_EnemyRook">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <alias>B6</alias>
      <enter type="script">
      </enter>
      <exit alias="west" to="A6">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A7">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C7">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C6">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A5_BishopSquare">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B5">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C5">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="Black Rook">
        <inherit name="editor_object" />
        <alive />
        <changedalive type="script">
          MoveObject (memory3, B6)
          MakeObjectVisible (memory3)
        </changedalive>
      </object>
    </object>
    <object name="C6">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByRook />
      <changedthreatenedByRook type="script">
      </changedthreatenedByRook>
      <exit alias="west" to="B6_EnemyRook">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B7">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D7_KnightSquare">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D6">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B5">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C5">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D5">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D6">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByRook />
      <threatenedByQueen />
      <threatenedByPawn5 />
      <exit alias="west" to="C6">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C7">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D7_KnightSquare">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E7">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E6_StartingSquare">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C5">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="E5_EnemyPawn">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="E6_StartingSquare">
      <inherit name="editor_room" />
      <inherit name="square" />
      <alias>E6</alias>
      <threatenedByRook />
      <descprefix>You are in</descprefix>
      <objectslistprefix>You can see</objectslistprefix>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <prefix>square</prefix>
      <description type="script">
        if (GetBoolean(EnemyPawn5, "alive")) {
          msg ("A black pawn stands in the square to your immediate south.")
        }
      </description>
      <beforefirstenter type="script">
      </beforefirstenter>
      <object name="player">
        <inherit name="editor_object" />
        <inherit name="editor_player" />
        <attr name="horse_possible" type="boolean">false</attr>
        <numBricks type="int">0</numBricks>
        <attr name="feature_player" type="boolean">false</attr>
      </object>
      <exit alias="northeast" to="F7">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit name="Exit_E6_E7" alias="north" to="E7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
        <locked />
        <lockmessage>That space is threatened. You cannot move there.</lockmessage>
      </exit>
      <exit alias="northwest" to="D7_KnightSquare">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit name="Exit_E6_D6" alias="west" to="D6">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
        <locked />
        <runscript />
        <lockmessage>That space is threatened. You cannot move there.</lockmessage>
      </exit>
      <exit name="Exit_E6_F6" alias="east" to="F6">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
        <locked />
        <lockmessage>That space is threatened. You cannot move there.</lockmessage>
      </exit>
      <exit alias="southwest" to="D5">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit name="Exit_E6_E5" alias="south" to="E5_EnemyPawn">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
        <locked type="boolean">false</locked>
        <lockmessage>That space is threatened. You cannot move there.</lockmessage>
      </exit>
      <exit alias="southeast" to="F5">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F6">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByRook />
      <threatenedByPawn5 />
      <exit alias="west" to="E6_StartingSquare">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E7">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G7">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G6">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="E5_EnemyPawn">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F5">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G5">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="G6">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByRook />
      <exit alias="west" to="F6">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F7">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H7">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H6_TowerSquare">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F5">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="G5">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="H5">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H6_TowerSquare">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByRook type="boolean">false</threatenedByRook>
      <threatenedByQueen type="boolean">false</threatenedByQueen>
      <descprefix>You approach</descprefix>
      <objectslistprefix>You can see</objectslistprefix>
      <description>There is a ruined tower before you. A battlement crowned top lies a few feet away from the base, with small tufts of soft, fragrant grass poking up from underneath it.</description>
      <alias>H6</alias>
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <firstenter type="script">
        msg ("Your eyes are drawn upwards and you feel something begin to surface in your mind. A feeling of terror grips you as images of a broken mirror, a wooden door and blood stains in a porcelain sink flash through your mind. A sense of inescapable futility fogs your mind and you stumble forward, reaching out to catch yourself on the crumbling tower.")
      </firstenter>
      <object name="Rook">
        <inherit name="editor_object" />
        <inherit name="male" />
        <alias>Tower</alias>
        <gender>it</gender>
        <article>it</article>
        <speak type="script">
          if (not GetBoolean(Rook,"talked_before")) {
            msg ("“If you’re looking for help, I don’t think I’m going to be much use to you.”")
            msg ("“Ah!  You...you talk?”")
            msg ("“It appears so.”")
            msg ("“Oh...ok then?  Where am I, what happened here?”")
            msg ("It heaves a sigh.")
            msg ("“We are losing the battle.  I am broken and undone.”")
            msg ("“The battle?”")
            msg ("“Yes.  Have you not seen the black pieces?  They have already taken the queen.  It is only a matter of time now before the rest of us are destroyed.”")
            msg ("“You don’t seem that broken, why don’t you rejoin the fight?”")
            msg ("If it had eyebrows, the tower would be raising them at you.")
            msg ("“I have been laid low, and unmade.  I cannot continue while I am in pieces.”")
            msg ("The tower sighs again and lapses into sad silence.")
          }
          else if ((brick1.parent = player)) {
            if (brick2.parent = player) {
              if (brick3.parent = player) {
                msg ("You place the bricks in the obvious hole, then lift the Rook’s head back onto its shoulders.  The bricks shift a bit under the weight, but appear to be holding.  The Rook shifts on its base to stare down the board.")
                msg ("“I am whole again?  Thank you.  Now I can continue my duty, your way will be clear.  The Pawn must be Queen, it is the only way to check the black King.  Hurry, your time is growing short.”")
                msg ("Without another word, the Rook slides swiftly down the board, and with a tremendous crack topples the enemy Queen.")
                msg ("You see a small twinkle as something falls to the ground where the black piece stood.")
                AddToInventory (helped_rook)
                MakeObjectVisible (memory1)
              }
            }
          }
          else {
            msg ("The tower is unresponsive, a somber silence lingers in the air.")
          }
        </speak>
      </object>
      <exit alias="southwest" to="E6_StartingSquare">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H7">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="west" to="G6">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H5">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="G7">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="grass">
        <inherit name="editor_object" />
        <smell>The grass has a very horse-friendly scent.</smell>
        <take />
        <takemsg>You take some of the fragrant grass.</takemsg>
        <dropmsg>You drop the grass into more grass.</dropmsg>
        <eat>You taste a bit of the grass, but it doesn't taste as good as it smells.</eat>
        <look>The grass looks quite soft.</look>
        <inventoryverbs type="stringlist">
          <value>Look at</value>
          <value>Drop</value>
        </inventoryverbs>
        <offertothedarkness type="script">
          if (GetBoolean(Knight, "talked_to") and GetBoolean(player,"horse_possible")) {
            msg ("You pull out the handful of grass and tentatively hold it out to the darkness, fanning it to waft its clean smell into the oppressive stink")
            msg ("There is a pregnant pause, and the fear that you are too late gnaws at you, but then...you hear the clopping of hooves, and with a jubilant whinny, a large white war horse bursts from the fog, nearly knocking you over.  Startled, you drop the grass, and the horse happily snuffles it up before raising its head to regard you with soft brown eyes.  There is a bridle on its head and a saddle on its back.")
            MakeObjectInvisible (grass)
            AddToInventory (Horse)
          }
          else {
            msg ("Nothing happens.")
          }
        </offertothedarkness>
      </object>
      <object name="memory1">
        <inherit name="editor_object" />
        <take />
        <takemsg>You come upon the sparkle you noticed when the Rook destroyed the black Queen.  It is a small brass key.</takemsg>
        <drop type="boolean">false</drop>
        <alias>Rook's Memory</alias>
        <look>It is the small brass key that was dropped  when the Rook destroyed the black Queen.</look>
        <visible type="boolean">false</visible>
        <ontake type="script"><![CDATA[
          IncreaseObjectCounter (GameStatus, "MemoryCounter")
          msg ("The smell of cinnamon surrounds you, and the earlier terror is replaced with images of soft down quilts, and warm wooden loungers in a garden full of lavender.  <br/><br/>You feel safer.")
        ]]></ontake>
      </object>
    </object>
  </object>
  <object name="Row 5">
    <inherit name="editor_room" />
    <object name="A5_BishopSquare">
      <inherit name="editor_room" />
      <inherit name="square" />
      <description>You come upon a robed man seated on a small bench cradling his head in his hands.  A tall mitre is on the ground next to him, and a stethoscope glints on his chest.</description>
      <alias>A5</alias>
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <firstenter type="script">
        msg ("You are assailed with images of bloody knuckles and a cruel laugh as a silent scream rings in your ears, the voice terrifyingly familiar: it is your own.  Pain threatens to overwhelm you, but dissipates somewhat as you stumble towards the seated figure.  Shaking your head to clear the lingering hurt, you approach him.")
      </firstenter>
      <object name="Bishop">
        <inherit name="editor_object" />
        <gender>he</gender>
        <article>him</article>
        <alive />
        <feature_usegive />
        <speak type="script">
          if (not GetBoolean(Bishop,"talked_before")) {
            msg ("“Hello?”")
            msg ("“Go away.”")
            msg ("“Er...who are you?  What are you doing here?”")
            msg ("“It doesn’t matter anymore.  I couldn’t save the queen, I failed.  I have nothing left to fight for.”")
            msg ("The man covers his eyes with his hands, ignoring you.")
            Bishop.talked_before = true
          }
          else {
            msg ("The man refuses to look up as you speak to him, his head still remains in his hands.")
          }
        </speak>
        <changedalive type="script">
          MoveObject (memory2, D3)
          MakeObjectVisible (memory2)
        </changedalive>
        <useon type="scriptdictionary">
          <item key="Kerchief">
            msg ("You hold out the white kerchief to the Bishop.  He looks up, startled.")
            msg ("“What is this?”")
            msg ("“Its just a hankee.  The Knight said something about strengthening my heart, but...I think you might need it more then me.”")
            msg ("“That...is very kind of you.  But giving yourself strength may not be enough to win this fight.”")
            msg ("You shrug awkwardly.")
            msg ("“Maybe not but...the Knight seemed pretty convinced that this isn’t over yet.  He’s out there fighting as hard as he can, even if it is hopeless.  Wouldn’t trying be better than sitting here waiting for the end?”")
            msg ("He looks pensive.")
            msg ("“Besides, it’s not like it could get any worse.”")
            msg ("A sad smile tugs at his mouth.  ")
            msg ("“You...may have a point.  Besides, it looks like that damn Knight isn’t going to let this end any time soon.  Here, take this.”")
            msg ("He pulls a brick from behind his robes, it’s one of the Rook’s!")
            msg ("“I...sabotaged the Rook.  I didn’t want to keep fighting, so I thought I would at least hasten the end.  It was foolish of me, and I can only hope you will find it in your heart to forgive me.”")
            msg ("Turning, he squares his shoulders and moves confidently down the board, toppling the black Pawn directly before the enemy King.")
            msg ("The Black King chuckles menacingly, then leaps forward, smashing the Bishop to the ground.")
            msg ("A small sparkle flies through the air, landing a few feet away from you.")
            RemoveObject (Bishop)
            AddToInventory (helped_bishop)
            MakeObjectVisible (memory2)
            AddToInventory (brick3)
          </item>
        </useon>
      </object>
      <exit alias="southeast" to="E6_StartingSquare">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="A6">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B6_EnemyRook">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B5">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="A4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="memory2">
        <inherit name="editor_object" />
        <take />
        <takemsg>The small object that flew from the Bishop when he was destroyed by the black King shimmers quietly on the ground.  It is a thermometre.</takemsg>
        <alias>Bishop's Memory</alias>
        <attr name="feature_usegive" type="boolean">false</attr>
        <drop type="boolean">false</drop>
        <look><![CDATA[It is the thermometre that flew from the Bishop when he was destroyed by the black King.<br/>]]></look>
        <visible type="boolean">false</visible>
        <ontake type="script"><![CDATA[
          IncreaseObjectCounter (GameStatus, "MemoryCounter")
          msg ("An antiseptic smell rises up to your nose, sharp but clean.  You close your eyes and remember gentle hands applying cooling pads to burns, and smoothing hair away from a fevered forehead.<br/><br/>You are no longer in pain.")
        ]]></ontake>
      </object>
    </object>
    <object name="B5">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <exit alias="west" to="A5_BishopSquare">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A6">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B6_EnemyRook">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C6">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C5">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C4">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="C5">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <exit alias="west" to="B5">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B6_EnemyRook">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C6">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D6">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D5">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D4">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D5">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="C5">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C6">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D6">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E6_StartingSquare">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E5_EnemyPawn">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="D4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="E4">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="E5_EnemyPawn">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <alias>E5</alias>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <prefix>square</prefix>
      <enter type="script">
      </enter>
      <beforeenter type="script">
      </beforeenter>
      <exit alias="west" to="D5">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="D6">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="E6_StartingSquare">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="F6">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="F5">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="E4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="F4">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="EnemyPawn5">
        <inherit name="editor_object" />
        <alias>Black pawn</alias>
        <take type="boolean">false</take>
        <displayverbs type="stringlist" />
        <inventoryverbs type="stringlist" />
        <drop type="boolean">false</drop>
        <alive />
      </object>
    </object>
    <object name="F5">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="E5_EnemyPawn">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E6_StartingSquare">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F6">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G6">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G5">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="E4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G4">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="G5">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <exit alias="west" to="F5">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F6">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G6">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H6_TowerSquare">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H5">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="G4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="H4">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H5">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByQueen />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G5">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="G6">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H6_TowerSquare">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="G4">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H4">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
  </object>
  <object name="Row 4">
    <inherit name="editor_room" />
    <object name="A4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="north" to="A5_BishopSquare">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B5">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="A3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="B3">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <exit alias="west" to="A4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A5_BishopSquare">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B5">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C5">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A3">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C3">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="C4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="B4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B5">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C5">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D5">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B3">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D3">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <exit alias="west" to="C4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C5">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D5">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E5_EnemyPawn">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C3">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="D3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="E3">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="E4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <prefix>square</prefix>
      <beforeenter type="script">
      </beforeenter>
      <exit alias="west" to="D4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="D5">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="E5_EnemyPawn">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="F5">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="F4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D3">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="E3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="F3_PawnSquare">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <exit alias="west" to="E4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E5_EnemyPawn">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F5">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G5">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="E3">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F3_PawnSquare">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G3">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="G4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="F4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F5">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G5">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H5">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H4">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F3_PawnSquare">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="G3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="H3">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H4">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G4">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="G5">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H5">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="G3">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H3">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="brick2">
        <inherit name="editor_object" />
        <look>It is an cream-coloured brick chipped in some spots and cracked in others. It has probably seen better days.</look>
        <alias>Brick</alias>
        <dropmsg>You dropped the cream coloured brick.</dropmsg>
        <eat>You bite into the brick. It tastes like dirt and iron. It's not the worst thing you've ever had though.</eat>
        <take type="script">
          if (GetBoolean(Rook, "talked_before")) {
            msg ("You pick up the brick. It must belong to the Rook.")
          }
          else {
            msg ("You pick up the brick. Maybe it belong's to someone.")
          }
          player.numBricks = player.numBricks+1
        </take>
        <ondrop type="script">
          player.numBricks = player.numBricks-1
        </ondrop>
      </object>
    </object>
  </object>
  <object name="Row 3">
    <inherit name="editor_room" />
    <object name="A3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="north" to="A4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B3">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="A2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="B2">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="A3">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C3">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A2">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C2">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="C3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByPawn2 />
      <exit alias="west" to="B3">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D3">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B2">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D2_EnemyPawn">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <exit alias="west" to="C3">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E3">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C2">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="D2_EnemyPawn">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="E2">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="E3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByPawn2 />
      <exit alias="west" to="D3">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="D4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="E4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="F4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="F3_PawnSquare">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D2_EnemyPawn">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="E2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="F2">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F3_PawnSquare">
      <inherit name="editor_room" />
      <inherit name="square" />
      <alias>F3</alias>
      <description><![CDATA[You move down the board and spy a small boy clutching a spear far too large for himself and pointing it trembling at the enemy King, who is feet away.  This must be the Pawn that the Rook spoke of.<br/>]]></description>
      <firstenter type="script">
        msg ("As you approach the Pawn, you are assailed with feelings of helplessness and weakness, strong enough to make you stumble.  Resolutely shaking your head, you press through and make it to the side of the boy, who jumps and squeaks as you appear out of the darkness.")
      </firstenter>
      <exit alias="west" to="E3">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G3">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="E2">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G2">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="Pawn">
        <inherit name="editor_object" />
        <gender>he</gender>
        <article>him</article>
        <speak type="script">
          if (not GetBoolean(Pawn,"talked_before")) {
            msg ("“W-Who goes there?!” He stammers, trying to keep an eye on both you, and the Black King.")
            msg ("“Don’t worry, I won’t hurt you, I promise.”")
            msg ("“This is war, y-y-you can’t trust, anyone!”")
            msg ("Glaring, he shuffles his feet around a bit, but keeps his spear pointing at the enemy King.")
            Pawn.talked_before = true
          }
          else if ((helped_rook.parent = player)) {
            if (helpe_bishop.parent = player) {
              if (helped_knight.parent = player) {
                msg ("“D-don’t come any closer!”")
                msg ("“Ok, I’ll stay right here.  Listen, you have to go.  Your path is clear, you’re the only one who can end this!”")
                msg ("“What?” Staring around in astonishment, he notices that the Queen that was threatening his flank is missing.")
                msg ("“But...what can I do?  I’m just one pawn...and the King is right there!”")
                msg ("The Black King shifts around to face the Pawn, and smiles menacingly.")
                msg ("“Don’t worry about him, you can make it!  If you get to the end, this will all end! You can do it, everyone is depending on you!”")
                msg ("He seems hesitant, but glances over at the square where the Bishop fell.  Taking a deep breath, he levels his spear and gulps.")
                msg ("“Oh...ok.  I’ll do it. Will you come with me?”")
                msg ("“Sure, I don’t see why not.“")
                msg ("")
                msg ("Taking another deep breath, he tightens his grip on his spear and charges straight forward.  The Black King’s grin slips when he realizes that the Pawn isn’t going for him: he’s heading for the end square.")
                msg ("")
                msg ("Panic fills the Black King’s face as he rushes to catch the Pawn, but he’s too late.")
                msg ("")
                msg ("The Pawn steps over the edge and a blinding light engulfs him.  The Black King screams.")
                msg ("")
                msg ("When the light fades, you look over to see a woman in shining white armour standing over the Black King’s crumpled form. She turns a serene, beautiful face towards you, and offers you the hilt of the King’s sword.  A sense of purpose emanates from the sword, and your previous feelings of helplessness are driven from you.")
                msg ("")
                msg ("“It is over.” Says the White Queen.")
                RemoveObject (Pawn)
              }
            }
          }
          else {
            msg ("The boy stands firm, while holding his spear pointed at the enemy king with glaring eyes darting around the battlefield.")
          }
        </speak>
      </object>
    </object>
    <object name="G3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <exit alias="west" to="F3_PawnSquare">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H4">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H3">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F2">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="G2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="H2">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H3">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <threatenedByQueen />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G3">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="G4">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H4">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="G2">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H2">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
  </object>
  <object name="Row 2">
    <inherit name="editor_room" />
    <object name="A2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <threatenedByQueen />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="north" to="A3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B3">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B2">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="A1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="B1">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <exit alias="west" to="A2">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A3">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C3">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C2">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="A1">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="B1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="C1">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="brick1">
        <inherit name="editor_object" />
        <look>It is a heavy brick of beige color is rough around the edges but still fairly sturdy. Looking at it makes you feel slightly melancoly.</look>
        <dropmsg>You dropped the beige brick.</dropmsg>
        <alias>Brick</alias>
        <take type="script">
          if (GetBoolean(Rook, "talked_before")) {
            msg ("You pick up the brick. It must belong to the Rook.")
          }
          else {
            msg ("You pick up the brick. Maybe it belong's to someone.")
          }
          player.numBricks = player.numBricks+1
        </take>
        <ondrop type="script">
          player.numBricks = player.numBricks-1
        </ondrop>
      </object>
    </object>
    <object name="C2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <threatenedByQueen />
      <threatenedByKing />
      <exit alias="west" to="B2">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B3">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D3">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D2_EnemyPawn">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="B1">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="C1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="D1">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D2_EnemyPawn">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <threatenedByKing />
      <alias>D2</alias>
      <exit alias="west" to="C2">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C3">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E3">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E2">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="C1">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="D1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="E1">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="EnemyPawn2">
        <inherit name="editor_object" />
      </object>
    </object>
    <object name="E2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <threatenedByQueen />
      <threatenedByKing />
      <exit alias="west" to="D2_EnemyPawn">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="D3">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="E3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="F3_PawnSquare">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="F2">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="D1">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="E1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="F1">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByQueen />
      <threatenedByPawn1 />
      <exit alias="west" to="E2">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E3">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F3_PawnSquare">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G3">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G2">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="E1">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="F1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="G1_EnemyPawn">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="G2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <threatenedByQueen />
      <exit alias="west" to="F2">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F3_PawnSquare">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H3">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H2">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="F1">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="G1_EnemyPawn">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southeast" to="H1">
        <inherit name="southeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="H2">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByPawn1 />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G2">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="G3">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H3">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="southwest" to="G1_EnemyPawn">
        <inherit name="southwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="south" to="H1">
        <inherit name="southdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="EnemyQueen">
        <inherit name="editor_object" />
        <alive />
        <changedalive type="script">
          MoveObject (memory1, H2)
          MakeObjectVisible (memory1)
        </changedalive>
      </object>
    </object>
  </object>
  <object name="Row 1">
    <inherit name="editor_room" />
    <object name="A1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <enter type="script">
        player.horse_possible = True
      </enter>
      <beforefirstenter type="script">
      </beforefirstenter>
      <onexit type="script">
        player.horse_possible = False
      </onexit>
      <exit alias="north" to="A2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="B2">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="B1">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="B1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <attr name="grid_borderwidth" type="int">1</attr>
      <grid_parent_offset_auto />
      <beforeenter type="script">
      </beforeenter>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="A1">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="A2">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="B2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="C2">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="C1">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="C1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByKing />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="B1">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="B2">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="C2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="D2_EnemyPawn">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="D1">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="D1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <attr name="grid_borderwidth" type="int">1</attr>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="C1">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="C2">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="D2_EnemyPawn">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="E2">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="E1">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="E1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <threatenedByKing />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="D1">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="D2_EnemyPawn">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="E2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="F2">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="F1">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
    <object name="F1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">White</attr>
      <alias>PawnedWhiteQueenSquare</alias>
      <beforeenter type="script">
      </beforeenter>
      <beforefirstenter type="script">
      </beforefirstenter>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="E1">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="E2">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="F2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="G2">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="G1_EnemyPawn">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="WhiteQueen">
        <inherit name="editor_object" />
        <inherit name="female" />
        <visible type="boolean">false</visible>
        <look>A woman in shining white armour stands valorously before you.</look>
        <drop type="boolean">false</drop>
        <attr name="feature_switchable" type="boolean">false</attr>
        <speak type="script"><![CDATA[
          if (GetInt(GameStatus, "MemoryCounter") >= 3) {
            msg ("As you approach the White Queen, a gentle light parts the fog overhead, and you can feel yourself being drawn towards it.  She smiles, and offers the sword’s hilt to you.<br/><br/>“I don’t think I can take this with me where I’m going…”<br/>“Not physically, no.  But it will be here whenever you need it.  Do you understand now?”<br/>You smile, thinking back to the happy memories that the defeated black pieces reminded you of.  <br/>“Yes, I think I do.”<br/>“Then go.  Be happy, for all of us.”<br/>Nodding, you take the hilt of the sword and turn towards the light again.  You feel your feet getting lighter, and you let yourself go.  As you float towards it, your eyes close, and the chessboard fades out.<br/><br/>You open your eyes to the concerned faces of your loved ones standing around your hospital bed, tears of relief and joy in their eyes.<br/><br/>You blink back tears yourself, and smile.  <br/>“Its ok...I’m ok.  I’m back.”")
          }
          else {
            msg ("As you approach the White Queen, a harsh white light pierces the fog overhead, and you flinch from its touch.  The White Queen smiles, and offers the sword’s hilt to you.<br/><br/>“Take it, and be free.”<br/>You shrink from the sword, the painful memories of the white chess pieces still burning in your mind.<br/>“I...can’t.”<br/>The smile fades from her face, and she slowly lowers the sword.<br/>“If you remain here, nothing will change.  You will be trapped forever.”<br/><br/>You look around.  With the black pieces gone, the chessboard doesn’t look nearly as frightening.  There’s nothing left here to hurt you.<br/><br/>Turning to the White Queen, you take her other hand and place it on the hilt.<br/><br/>“You beat him, you keep it.”<br/>She sighs and shakes her head.<br/>“I can’t protect you forever.”<br/>“I’ll just stay a while and get my strength back, you won’t have to hold it forever, I promise.”<br/><br/>You turn to go to the Knight, ignoring the light in the sky as it starts to dim.  You’re sure it’ll still be there when you’re finished visiting with him and the Rook.<br/><br/>You start to whistle, free from pain for the first time in what feels like forever.  The light in the sky flickers for a few moments, then finally goes out.  The darkness starts enclosing the board, enveloping and hiding the Rook and the Knight, but you’re not afraid this time.  The darkness is different, warmer.<br/><br/>Somewhere far above you, the pinging stops, and you hear hysterical sobs, but it doesn’t matter now.<br/><br/>You smile as the darkness engulfs you, closing your eyes and drifting away in its gentle embrace.")
            finish
          }
        ]]></speak>
        <turnscript name="WhiteQueenVisibility">
          <enabled />
          <script>
            if (not Contains (F3_PawnSquare,Pawn)) {
              MakeObjectVisible (WhiteQueen)
            }
          </script>
        </turnscript>
      </object>
    </object>
    <object name="G1_EnemyPawn">
      <inherit name="editor_room" />
      <inherit name="square" />
      <attr name="grid_fill">Gray</attr>
      <alias>G1</alias>
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="F1">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="F2">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="G2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northeast" to="H2">
        <inherit name="northeastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="east" to="H1">
        <inherit name="eastdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <object name="EnemyPawn1">
        <inherit name="editor_object" />
      </object>
    </object>
    <object name="H1">
      <inherit name="editor_room" />
      <inherit name="square" />
      <threatenedByQueen />
      <enter type="script">
        player.horse_possible = true
      </enter>
      <onexit type="script">
        player.horse_possible = false
      </onexit>
      <exit alias="west" to="G1_EnemyPawn">
        <inherit name="westdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="northwest" to="G2">
        <inherit name="northwestdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
      <exit alias="north" to="H2">
        <inherit name="northdirection" />
        <attr name="grid_length" type="int">0</attr>
      </exit>
    </object>
  </object>
  <verb>
    <property>offertothedarkness</property>
    <pattern>offer to the darkness</pattern>
    <defaultexpression>"You can't offer to the darkness " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>pet</property>
    <pattern>pet</pattern>
    <defaultexpression>"You can't pet " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>givesingle</property>
    <pattern>givesingle</pattern>
    <defaultexpression>"You can't givesingle " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>ride</property>
    <pattern>ride</pattern>
    <defaultexpression>"You can't ride " + object.article + "."</defaultexpression>
  </verb>
  <type name="square">
    <inherit name="editor_room" />
  </type>
  <function name="LockSquaresOnStart">
    foreach (object, AllObjects()) {
      if (IsThreatened(object)) {
        foreach (exit, AllExits()) {
          if (exit.to.name = object.name) {
            LockExit (exit)
          }
        }
      }
    }
  </function>
  <function name="IsThreatened" parameters="object" type="boolean">
    if (DoesInherit (object, "square")) {
      if ( GetBoolean(object, "threatenedByQueen") or GetBoolean (object, "threatenedByRook") or GetBoolean (object, "threatenedByKing") or GetBoolean (object, "threatenedByPawn1") or GetBoolean (object, "threatenedByPawn2") or GetBoolean (object, "threatenedByPawn5")) {
        return (true)
      }
    }
    return (false)
  </function>
  <function name="UnlockUnthreatenedSquares">
    foreach (object, AllObjects()) {
      if (DoesInherit (object, "square") and not IsThreatened(object)) {
        foreach (exit, AllExits()) {
          if (exit.to.name = object.name) {
            UnlockExit (exit)
          }
        }
      }
    }
  </function>
  <function name="RemoveFlagFromSquares" parameters="flagName">
    foreach (object, AllObjects()) {
      if (DoesInherit (object, "square")) {
        SetObjectFlagOff (object, flagName)
      }
    }
  </function>
</asl>